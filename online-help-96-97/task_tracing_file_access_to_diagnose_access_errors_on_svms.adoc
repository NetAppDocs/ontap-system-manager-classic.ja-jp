---
permalink: online-help-96-97/task_tracing_file_access_to_diagnose_access_errors_on_svms.html 
sidebar: sidebar 
keywords: trace, file, access, diagnost, error, svm, system, manager, online, help 
summary: System Manager 9.6 以降では、 Storage Virtual Machine （ SVM ）の CIFS / NFS ファイルアクセスエラーを診断できます。 
---
= ファイルアクセスをトレースして、 System Manager を備えた SVM のアクセスエラーを診断します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
System Manager 9.6 以降では、 Storage Virtual Machine （ SVM ）の CIFS / NFS ファイルアクセスエラーを診断できます。

.このタスクについて
「 access denied 」エラーなどのファイル・アクセスの問題は ' 共有の構成 ' 権限 ' またはユーザ・マッピングに問題がある場合に発生する可能性がありますファイルアクセスの問題を解決するには、 System Manager を使用して、ユーザがアクセスを希望するファイルまたは共有のアクセストレース結果を表示すると役立ちます。System Manager には、ファイルまたは共有に対する読み取り、書き込み、または実行の有効な権限があるかどうかと、アクセスが有効または無効な理由が表示されます。

.手順
. [ * ストレージ * > * SVMs * ] をクリックします。
. ファイルアクセスエラーが返されたファイルまたは共有が含まれている SVM を選択します。
. ファイルアクセスのトレース * をクリックします。
+
選択した SVM の Trace File Access ウィンドウには、ファイルアクセス権限をトレースするための前提条件と手順が表示されます。

. [ 続行 ] をクリックして、ファイルトレースプロセスを開始します。
. 選択した SVM のファイルまたは共有へのアクセスに使用しているプロトコルを選択します。
. [ * ユーザー名 * ] フィールドに、ファイルまたは共有にアクセスしようとしているユーザーの名前を入力します。
. *オプション：*クリックしimage:../media/advanced_options.gif["[詳細オプション]アイコン"]て詳細を指定し、トレースの範囲を絞り込みます。
+
[ 詳細オプション ] ダイアログボックスでは、次の詳細を指定できます。

+
** * クライアント IP アドレス * ：クライアントの IP アドレスを指定します。
** * ファイル * ：トレースするファイル名またはファイルパスを指定します。
** * トレース結果に表示 * ：アクセスが拒否されたエントリのみを表示するか、すべてのエントリを表示するかを指定します。
指定した詳細を適用し、 [Trace File Access] ウィンドウに戻るには、 [* Apply] をクリックします。


. [ トレースを開始 ] をクリックします。
+
トレースが開始され、結果テーブルが表示されます。ユーザがファイルアクセス要求時にエラーを受け取るまで、このテーブルは空です。結果リストは 15 秒ごとに更新され、新しいものから順にメッセージが表示されます。

. 該当するユーザに、ファイルへのアクセスを 60 分以内に試すように伝えます。
+
トレース期間中に指定のユーザ名に対してエラーが発生すると、拒否されたファイルアクセス要求の詳細が結果リストに表示されます。「理由」列には、ユーザがファイルにアクセスできない原因となった理由が表示されます。

. *オプション：*結果テーブルの*理由*列で、*権限の表示*をクリックして、ユーザーがアクセスしようとしているファイルの権限を表示します。
+
** 「 Synchronize 」、「 Read Control 」、「 Read Attributes 」、「 Execute 」、「 Read EA 」に対してアクセスが許可されていないというメッセージがトレース結果に表示される場合、 「 Write 」または「 Read 」は、表示されている一連の権限に必要なアクセスが付与されていないことを示します。権限の実際のステータスを表示するには、表示されたリンクから権限を表示する必要があります。
** CIFS プロトコルを指定した場合は、有効なファイル権限と共有権限ダイアログボックスが表示され、ユーザがアクセスしようとしている共有とファイルに関連付けられているファイル権限と共有権限の両方が一覧表示されます。
** NFS プロトコルを指定した場合は、有効なファイル権限ダイアログボックスが表示され、ユーザがアクセスしようとしているファイルに関連付けられているファイル権限の一覧が表示されます。
チェック・マークは権限が付与されていることを示し 'X は権限が付与されていないことを示します


+
[OK] をクリックして、 [ ファイルアクセスのトレース（ Trace File Access ） ] ウィンドウに戻ります。

. *オプション：*結果テーブルに読み取り専用データが表示されます。トレース結果について、次の操作を実行できます。
+
** [ * クリップボードにコピー * ] をクリックして、結果をクリップボードにコピーします。
** トレース結果のエクスポート（ Export Trace Results ） * をクリックして、結果をカンマ区切り値（ CSV ）ファイルにエクスポートします。


. トレース操作を終了するには、 * トレースを停止 * をクリックします。

